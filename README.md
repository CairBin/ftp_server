# ftp_server

## 描述

Java实现的FTP服务端。

## 功能

* 支持主动模式和被动模式：主动模式服务器连接客户端。被动模式返回给客户端固定好的端口号和地址，让客户端去连接服务器。（均为数据连接）

* 使用线程池进行优化

* Guice实现依赖注入

* 封装了Mutex和RwLock的包装类

* 工作目录、被动模式的端口号、IP地址可进行配置

* 支持ASCII和BINARY两种模式


* 对FTP客户端命令解析，实现FTP命令如下：

```java

public enum FtpCommand {
    // 接入命令
    USER,   // 用户标识符
    PASS,   // 登陆口令
    QUIT,   // 系统注销
    ABOR,   // 数据连接以及上次命令终止

    // 文件管理命令
    CWD,    // 改变到另一个目录
    CDUP,   // 改变到父目录
    DELE,   // 删除文件
    LIST,   // 列出子目录和文件
    NLST,   // 同NLIST
    NLIST,  // 列出子目录或其它属性文件
    MKD,    // 创建目录
    PWD,    // 显示当前目录
    RMD,    // 删除目录
    RNFR,   // 标志要重新命名的文件，参数为旧文件名
    RNTO,   // 重命名，参数为新文件名
    TYPE,   // 定义文件类型

    // 端口相关
    PORT,   // 客户端选择端口，主动模式
    PASV,   // 服务器选择端口，被动模式

    // 文件传输
    RETR,       // 下载文件
    STOR,       // 上传文件
    STOU,       // 上传文件，但是文件名必须唯一
    ALLO,       // 在服务器为文件分配存储空间
    STAT,       // 返回文件状态
    REST,       // 数据点给文件标记位置
    
    // 其他
    NOOP,             // 检查服务器是否工作
    SYST,              // 获取服务器所用OS
    FEAT
}
```

## 其他

目前仅在MacOS环境下终端的FTP客户端进行连接、命令测试。